{"version":3,"sources":["webpack:///peer_custom_mesg.min.js","webpack:///webpack/bootstrap 84cdc3fc5bf4948a82f1","webpack:///./lib/index.js","webpack:///./~/events/events.js","webpack:///./lib/modules/util.js","webpack:///./lib/modules/validator.js","webpack:///./~/charenc/charenc.js","webpack:///./lib/modules/PeerCustomMesg.js","webpack:///./lib/modules/Request.js","webpack:///./lib/modules/Response.js","webpack:///./~/crypt/crypt.js","webpack:///./~/is-buffer/index.js","webpack:///./~/md5/md5.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","PeerCustomMesg","window","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","n","isNaN","TypeError","emit","type","er","handler","len","args","i","listeners","error","length","arguments","Error","Array","slice","apply","addListener","listener","newListener","push","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","_interopRequireDefault","obj","__esModule","default","_md","_md2","util","make_transaction_id","make_utc_timestamp","Date","now","toString","_typeof","Symbol","iterator","constructor","validator","is_boolean","val","is_falsy","is_transaction_id","candidate","match","is_signalling_type","is_peer_object","is_string","str","min","max","_min","_max","is_peerid","is_object","is_peerjs_format","payload","dst","src","charenc","utf8","stringToBytes","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","charCodeAt","String","fromCharCode","join","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","Object","create","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","defineProperty","protoProps","staticProps","_events2","_validator","_validator2","_Request","_Request2","_Response","_Response2","_EventEmitter","peer","custom_type","_this","getPrototypeOf","toUpperCase","objRequests","socket","data","name","method","resource","transaction_id","req","param","parameter","res","send","req_","status","response","res_","resolve","reject","srcPeerID","mesg","_this2","promise","Promise","rpc","Request","validate_param","created_at","Response","_validate_param","status_code","base64map","crypt","rotl","b","rotr","endian","Number","randomBytes","Math","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","hexToBytes","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","_isBuffer","isBuffer","md5","message","options","encoding","isArray","l","a","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","t","_blocksize","_digestsize","digestbytes","asBytes","asString"],"mappings":"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","file":"peer_custom_mesg.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar PeerCustomMesg = __webpack_require__(5);\n\t\n\tif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\t  module.exports = PeerCustomMesg;\n\t} else {\n\t  window.PeerCustomMesg = PeerCustomMesg;\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function(n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n))\n\t    throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function(type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error ||\n\t        (isObject(this._events.error) && !this._events.error.length)) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      }\n\t      throw TypeError('Uncaught, unspecified \"error\" event.');\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler))\n\t    return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++)\n\t      listeners[i].apply(this, args);\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events)\n\t    this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener)\n\t    this.emit('newListener', type,\n\t              isFunction(listener.listener) ?\n\t              listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;\n\t  else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);\n\t  else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' +\n\t                    'leak detected. %d listeners added. ' +\n\t                    'Use emitter.setMaxListeners() to increase limit.',\n\t                    this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener))\n\t    throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type])\n\t    return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener ||\n\t      (isFunction(list.listener) && list.listener === listener)) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener ||\n\t          (list[i].listener && list[i].listener === listener)) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0)\n\t      return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener)\n\t      this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events)\n\t    return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0)\n\t      this._events = {};\n\t    else if (this._events[type])\n\t      delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length)\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function(type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type])\n\t    ret = [];\n\t  else if (isFunction(this._events[type]))\n\t    ret = [this._events[type]];\n\t  else\n\t    ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function(type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener))\n\t      return 1;\n\t    else if (evlistener)\n\t      return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function(emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _md = __webpack_require__(10);\n\t\n\tvar _md2 = _interopRequireDefault(_md);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar util = {\n\t  // it will be copied to request and response object library\n\t  make_transaction_id: function make_transaction_id() {\n\t    return (0, _md2.default)(util.make_utc_timestamp());\n\t  },\n\t\n\t  // return milisec order timestamp in UTC\n\t  make_utc_timestamp: function make_utc_timestamp() {\n\t    return Date.now().toString();\n\t  }\n\t};\n\t\n\tmodule.exports = util;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar validator = {\n\t  is_boolean: function is_boolean(val) {\n\t    return typeof val === \"boolean\";\n\t  },\n\t\n\t  is_falsy: function is_falsy(val) {\n\t    if (val === 0) return false;\n\t\n\t    return !val;\n\t  },\n\t\n\t  is_transaction_id: function is_transaction_id(candidate) {\n\t    if (typeof candidate !== \"string\") return false;\n\t\n\t    return !!candidate.match(/^[a-z0-9]{32}$/);\n\t  },\n\t\n\t  // check data.type is for signaling or not. In case of such a type is transmitted and\n\t  // it is not taken into account with invalid message (since it does not match extensive type)\n\t  // it show up annoying error in console. To prevent this, it is checked as signaling message\n\t  // or not.\n\t  is_signalling_type: function is_signalling_type(type) {\n\t    if (typeof type === 'string' && type.match(/^(PING|OFFER|ANSWER|CANDIDATE)$/)) {\n\t      return true;\n\t    } else {\n\t      return false;\n\t    }\n\t  },\n\t\n\t  is_peer_object: function is_peer_object(obj) {\n\t    return !!(obj && obj.toString && obj.toString() === \"[object Object]\");\n\t  },\n\t\n\t  // min and max is optional\n\t  is_string: function is_string(str, min, max) {\n\t    if (typeof str !== \"string\") return false;\n\t\n\t    var _min = typeof min === \"number\",\n\t        _max = typeof max === \"number\";\n\t\n\t    if ((_min || _max) && !(_min && _max)) return false;\n\t\n\t    if (typeof min === \"number\" || typeof max === \"number\") {\n\t      if (min === max) return false;\n\t      if (max < min) return false;\n\t\n\t      if (str.length < min || str.length > max) return false;\n\t    }\n\t\n\t    return true;\n\t  },\n\t\n\t  is_peerid: function is_peerid(id) {\n\t    if (typeof id !== 'string') return false;\n\t    if (id.length === 0) return false;\n\t\n\t    return true;\n\t  },\n\t\n\t  is_object: function is_object(obj) {\n\t    if (validator.is_falsy(obj)) return false;\n\t    return (typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) === \"object\" ? true : false;\n\t  },\n\t\n\t  is_peerjs_format: function is_peerjs_format(obj) {\n\t    if (typeof obj.type !== \"string\") return false;\n\t    if (validator.is_falsy(obj.payload)) return false;\n\t    if (!validator.is_peerid(obj.dst)) return false;\n\t    if (!validator.is_peerid(obj.src)) return false;\n\t    if (obj.dst === obj.src) return false;\n\t\n\t    return true;\n\t  }\n\t};\n\t\n\tmodule.exports = validator;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tvar charenc = {\n\t  // UTF-8 encoding\n\t  utf8: {\n\t    // Convert a string to a byte array\n\t    stringToBytes: function(str) {\n\t      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n\t    },\n\t\n\t    // Convert a byte array to a string\n\t    bytesToString: function(bytes) {\n\t      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n\t    }\n\t  },\n\t\n\t  // Binary encoding\n\t  bin: {\n\t    // Convert a string to a byte array\n\t    stringToBytes: function(str) {\n\t      for (var bytes = [], i = 0; i < str.length; i++)\n\t        bytes.push(str.charCodeAt(i) & 0xFF);\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to a string\n\t    bytesToString: function(bytes) {\n\t      for (var str = [], i = 0; i < bytes.length; i++)\n\t        str.push(String.fromCharCode(bytes[i]));\n\t      return str.join('');\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = charenc;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _events = __webpack_require__(1);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _validator = __webpack_require__(3);\n\t\n\tvar _validator2 = _interopRequireDefault(_validator);\n\t\n\tvar _Request = __webpack_require__(6);\n\t\n\tvar _Request2 = _interopRequireDefault(_Request);\n\t\n\tvar _Response = __webpack_require__(7);\n\t\n\tvar _Response2 = _interopRequireDefault(_Response);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar PeerCustomMesg = function (_EventEmitter) {\n\t  _inherits(PeerCustomMesg, _EventEmitter);\n\t\n\t  function PeerCustomMesg(peer, custom_type /* optional */) {\n\t    _classCallCheck(this, PeerCustomMesg);\n\t\n\t    // when extends is used, super() should be called\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PeerCustomMesg).call(this));\n\t\n\t    if (!_validator2.default.is_peer_object(peer)) throw \"parameter peer does not valid object\";\n\t    if (!!custom_type && !_validator2.default.is_string(custom_type)) throw \"parameter custom_type should be string\";\n\t\n\t    _this.peer = peer; // skyway server connection instance\n\t    _this.custom_type = custom_type ? \"X_\" + custom_type.toUpperCase() : \"X_CUSTOMMESG\";\n\t\n\t    _this.objRequests = {};\n\t\n\t    // message handler for custom message\n\t    _this.peer.socket.on(\"message\", function (data) {\n\t      // check if type field is peerjs signaling type\n\t      // for sinon test, this case emit 'signalling-mesg' event\n\t      if (_validator2.default.is_signalling_type(data.type)) {\n\t        _this.emit(\"signalling-mesg\", data.type);\n\t        return;\n\t      }\n\t\n\t      // check if type field is correct\n\t      if (data.type !== _this.custom_type) throw \"received type does not match with custom_type: \" + data.type;\n\t\n\t      // suppress error when type is for signaling message\n\t      if (!_validator2.default.is_peerjs_format(data)) throw \"data type is not valid peerjs format\";\n\t\n\t      if (data.payload.name && data.payload.name === \"request\" && data.payload.method && data.payload.resource && data.payload.transaction_id) {\n\t        // operate it as request\n\t        var req = data.payload;\n\t\n\t        // create Response instance and set event handler when send-ready is called (res.end())\n\t        //\n\t\n\t        var param = {\n\t          \"transaction_id\": req.transaction_id,\n\t          \"dst\": data.src,\n\t          \"method\": req.method,\n\t          \"resource\": req.resource,\n\t          \"parameter\": req.parameter\n\t        };\n\t        var res = new _Response2.default(param).once(\"send-ready\", function () {\n\t          _this.send(res.dst, res.data);\n\t        });\n\t\n\t        // inject data.transaction_id & name\n\t        var req_ = {\n\t          \"method\": req.method,\n\t          \"resource\": req.resource,\n\t          \"parameter\": req.parameter\n\t        };\n\t\n\t        _this.emit(\"request\", req_, res);\n\t      } else if (data.payload.name && data.payload.name === \"response\" && data.payload.status && data.payload.method && data.payload.resource && data.payload.transaction_id && data.payload.response) {\n\t        // operate it as response\n\t        var res = data.payload;\n\t\n\t        // throw if res.transaction_id does not exist in objRequests.\n\t        if (!_this.objRequests[res.transaction_id]) throw \"transaction_id does not exist: \" + res.transaction_id;\n\t\n\t        // pickup request instance from objRequests ( do not forget to remoe from it)\n\t        var req = _this.objRequests[res.transaction_id];\n\t\n\t        // throw if data.method does not match with requests.method.\n\t        if (res.method !== req.method) throw \"res.method does not match with req.method: \" + res.method;\n\t\n\t        // throw if data.resource does not match with requests.resource.\n\t        if (res.resource !== req.resource) throw \"res.resource does not match with req.resource: \" + res.resource;\n\t\n\t        // inject data.response.transaction_id & name\n\t        var res_ = {\n\t          \"status\": res.status,\n\t          \"method\": res.method,\n\t          \"resource\": res.resource,\n\t          \"parameter\": res.parameter,\n\t          \"response\": res.response\n\t        };\n\t\n\t        // emit resolve function when status === 200 with data.response, otherwise reject\n\t        if (res_.status === \"200\") {\n\t          req.resolve(res_);\n\t        } else {\n\t          req.reject(res_.status + \" : \" + res_.response);\n\t        }\n\t\n\t        delete _this.objRequests[res.transaction_id];\n\t      } else {\n\t        _this.emit(\"message\", { \"srcPeerID\": data.src, \"data\": data.payload });\n\t      }\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  // send custom message\n\t\n\t\n\t  _createClass(PeerCustomMesg, [{\n\t    key: 'send',\n\t    value: function send(dst, mesg) {\n\t      if (!_validator2.default.is_peerid(dst)) throw \"parameter dst is not valid peer id\";\n\t      if (_validator2.default.is_falsy(mesg)) throw \"parameter mesg is falsy\";\n\t\n\t      this.peer.socket.send({\n\t        \"type\": this.custom_type,\n\t        \"payload\": mesg,\n\t        \"dst\": dst\n\t      });\n\t    }\n\t\n\t    /////////////////////////////////////////////\n\t    // rpc methods\n\t\n\t    /**\n\t     * send procedure call to target custom message object.\n\t     *\n\t     * method : string of rpc method  (e.g. \"GET\", \"STOP\", etc.\n\t     * dest : destination peer id  (e.g. \"a23klf2\"\n\t     * resource : string begin with /  (e.g. /profiles\n\t     * parameter (optional) : request parameter (string, number, object)\n\t     *\n\t     **/\n\t\n\t  }, {\n\t    key: 'rpc',\n\t    value: function rpc(method, dst, resource, parameter) {\n\t      var _this2 = this;\n\t\n\t      // validation is done inside Request constructor (when fails, it throw error)\n\t      var req = new _Request2.default({\n\t        \"method\": method,\n\t        \"dst\": dst,\n\t        \"resource\": resource,\n\t        \"parameter\": parameter,\n\t        \"resolve\": null,\n\t        \"reject\": null\n\t      });\n\t\n\t      var promise = new Promise(function (resolve, reject) {\n\t        // set resolve & reject in side Request object\n\t        req.resolve = resolve;\n\t        req.reject = reject;\n\t\n\t        var transaction_id = req.transaction_id;\n\t\n\t        _this2.objRequests[transaction_id] = req;\n\t        _this2.send(dst, req.data);\n\t        _this2.emit(\"rpc-called\", { \"method\": method, \"resource\": resource, \"dst\": dst });\n\t      });\n\t\n\t      return promise;\n\t    }\n\t\n\t    // shortcut to GET\n\t\n\t  }, {\n\t    key: 'get',\n\t    value: function get(dst, resource, parameter) {\n\t      return this.rpc(\"GET\", dst, resource, parameter);\n\t    }\n\t  }]);\n\t\n\t  return PeerCustomMesg;\n\t}(_events2.default);\n\t\n\tmodule.exports = PeerCustomMesg;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/* Request.js */\n\t\n\tvar EventEmitter = __webpack_require__(1),\n\t    util = __webpack_require__(2);\n\t\n\tvar Request = function (_EventEmitter) {\n\t  _inherits(Request, _EventEmitter);\n\t\n\t  function Request(param) {\n\t    _classCallCheck(this, Request);\n\t\n\t    // if validation fails, throw error.\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Request).call(this));\n\t\n\t    if (!_this.validate_param(param)) throw \"Request: parameter for constructor is not valid\";\n\t\n\t    _this.transaction_id = util.make_transaction_id();\n\t    _this.created_at = util.make_utc_timestamp();\n\t    _this.dst = param.dst;\n\t    _this.method = param.method;\n\t    _this.resource = param.resource;\n\t    _this.parameter = param.parameter;\n\t    _this.resolve = param.resolve;\n\t    _this.reject = param.reject;\n\t    _this.data = {\n\t      \"name\": \"request\",\n\t      \"method\": param.method,\n\t      \"resource\": param.resource,\n\t      \"parameter\": param.parameter,\n\t      \"transaction_id\": _this.transaction_id\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Request, [{\n\t    key: \"validate_param\",\n\t    value: function validate_param(param) {\n\t      if (!(!!param.method && typeof param.method === \"string\")) return false;\n\t\n\t      param.method = param.method.toUpperCase();\n\t\n\t      if (!param.method.match(/^(GET|POST|PUT|DELETE)$/)) return false;\n\t      if (!(!!param.dst && typeof param.dst === \"string\")) return false;\n\t      if (!(!!param.resource && typeof param.resource === \"string\" && param.resource.match(/^\\/[0-9a-zA-Z-]+$/))) return false;\n\t      if (!(!param.resolve || typeof param.resolve === \"function\")) return false;\n\t      if (!(!param.reject || typeof param.reject === \"function\")) return false;\n\t\n\t      return true;\n\t    }\n\t  }]);\n\t\n\t  return Request;\n\t}(EventEmitter);\n\t\n\tmodule.exports = Request;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/* Response.js */\n\t\n\tvar EventEmitter = __webpack_require__(1),\n\t    util = __webpack_require__(2),\n\t    validator = __webpack_require__(3);\n\t\n\tvar Response = function (_EventEmitter) {\n\t  _inherits(Response, _EventEmitter);\n\t\n\t  function Response(param) {\n\t    _classCallCheck(this, Response);\n\t\n\t    // if validation fails, throw error.\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Response).call(this));\n\t\n\t    if (!_this._validate_param(param)) throw \"Response: parameter for constructor is not valid\";\n\t\n\t    _this.transaction_id = param.transaction_id;\n\t    _this.created_at = util.make_utc_timestamp();\n\t    _this.dst = param.dst;\n\t    _this.method = param.method;\n\t    _this.resource = param.resource;\n\t    _this.parameter = param.parameter;\n\t    _this.data = {\n\t      \"status\": \"200\",\n\t      \"name\": \"response\",\n\t      \"method\": param.method,\n\t      \"resource\": param.resource,\n\t      \"transaction_id\": param.transaction_id,\n\t      \"response\": \"\"\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Response, [{\n\t    key: \"status\",\n\t    value: function status(status_code) {\n\t      if (typeof status_code !== \"number\") throw \"status code should be number\";\n\t      if (status_code < 100 || status_code > 999) throw \"status code should be between 100 - 999\";\n\t      this.data.status = status_code.toString();\n\t    }\n\t  }, {\n\t    key: \"write\",\n\t    value: function write(data) {\n\t      if (data === null || data === undefined) throw \"data should be specified\";\n\t      this.data.response = data;\n\t    }\n\t  }, {\n\t    key: \"end\",\n\t    value: function end() {\n\t      this.emit(\"send-ready\");\n\t    }\n\t\n\t    // for internal\n\t\n\t  }, {\n\t    key: \"_validate_param\",\n\t    value: function _validate_param(param) {\n\t      if (!(param.transaction_id && validator.is_transaction_id(param.transaction_id))) return false;\n\t      if (!(!!param.method && typeof param.method === \"string\")) return false;\n\t      if (!param.method.match(/^(GET|POST|PUT|DELETE)$/)) return false;\n\t\n\t      if (!(!!param.dst && typeof param.dst === \"string\")) return false;\n\t      if (!(!!param.resource && typeof param.resource === \"string\" && param.resource.match(/^\\/[0-9a-zA-Z-]+$/))) return false;\n\t\n\t      return true;\n\t    }\n\t  }]);\n\t\n\t  return Response;\n\t}(EventEmitter);\n\t\n\tmodule.exports = Response;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t(function() {\n\t  var base64map\n\t      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\t\n\t  crypt = {\n\t    // Bit-wise rotation left\n\t    rotl: function(n, b) {\n\t      return (n << b) | (n >>> (32 - b));\n\t    },\n\t\n\t    // Bit-wise rotation right\n\t    rotr: function(n, b) {\n\t      return (n << (32 - b)) | (n >>> b);\n\t    },\n\t\n\t    // Swap big-endian to little-endian and vice versa\n\t    endian: function(n) {\n\t      // If number given, swap endian\n\t      if (n.constructor == Number) {\n\t        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n\t      }\n\t\n\t      // Else, assume array and swap all items\n\t      for (var i = 0; i < n.length; i++)\n\t        n[i] = crypt.endian(n[i]);\n\t      return n;\n\t    },\n\t\n\t    // Generate an array of any length of random bytes\n\t    randomBytes: function(n) {\n\t      for (var bytes = []; n > 0; n--)\n\t        bytes.push(Math.floor(Math.random() * 256));\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to big-endian 32-bit words\n\t    bytesToWords: function(bytes) {\n\t      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n\t        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n\t      return words;\n\t    },\n\t\n\t    // Convert big-endian 32-bit words to a byte array\n\t    wordsToBytes: function(words) {\n\t      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n\t        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to a hex string\n\t    bytesToHex: function(bytes) {\n\t      for (var hex = [], i = 0; i < bytes.length; i++) {\n\t        hex.push((bytes[i] >>> 4).toString(16));\n\t        hex.push((bytes[i] & 0xF).toString(16));\n\t      }\n\t      return hex.join('');\n\t    },\n\t\n\t    // Convert a hex string to a byte array\n\t    hexToBytes: function(hex) {\n\t      for (var bytes = [], c = 0; c < hex.length; c += 2)\n\t        bytes.push(parseInt(hex.substr(c, 2), 16));\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to a base-64 string\n\t    bytesToBase64: function(bytes) {\n\t      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n\t        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n\t        for (var j = 0; j < 4; j++)\n\t          if (i * 8 + j * 6 <= bytes.length * 8)\n\t            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n\t          else\n\t            base64.push('=');\n\t      }\n\t      return base64.join('');\n\t    },\n\t\n\t    // Convert a base-64 string to a byte array\n\t    base64ToBytes: function(base64) {\n\t      // Remove non-base-64 characters\n\t      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\t\n\t      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n\t          imod4 = ++i % 4) {\n\t        if (imod4 == 0) continue;\n\t        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n\t            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n\t            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n\t      }\n\t      return bytes;\n\t    }\n\t  };\n\t\n\t  module.exports = crypt;\n\t})();\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Determine if an object is Buffer\n\t *\n\t * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n\t * License:  MIT\n\t *\n\t * `npm install is-buffer`\n\t */\n\t\n\tmodule.exports = function (obj) {\n\t  return !!(obj != null &&\n\t    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)\n\t      (obj.constructor &&\n\t      typeof obj.constructor.isBuffer === 'function' &&\n\t      obj.constructor.isBuffer(obj))\n\t    ))\n\t}\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function(){\r\n\t  var crypt = __webpack_require__(8),\r\n\t      utf8 = __webpack_require__(4).utf8,\r\n\t      isBuffer = __webpack_require__(9),\r\n\t      bin = __webpack_require__(4).bin,\r\n\t\r\n\t  // The core\r\n\t  md5 = function (message, options) {\r\n\t    // Convert to byte array\r\n\t    if (message.constructor == String)\r\n\t      if (options && options.encoding === 'binary')\r\n\t        message = bin.stringToBytes(message);\r\n\t      else\r\n\t        message = utf8.stringToBytes(message);\r\n\t    else if (isBuffer(message))\r\n\t      message = Array.prototype.slice.call(message, 0);\r\n\t    else if (!Array.isArray(message))\r\n\t      message = message.toString();\r\n\t    // else, assume byte array already\r\n\t\r\n\t    var m = crypt.bytesToWords(message),\r\n\t        l = message.length * 8,\r\n\t        a =  1732584193,\r\n\t        b = -271733879,\r\n\t        c = -1732584194,\r\n\t        d =  271733878;\r\n\t\r\n\t    // Swap endian\r\n\t    for (var i = 0; i < m.length; i++) {\r\n\t      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n\t             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n\t    }\r\n\t\r\n\t    // Padding\r\n\t    m[l >>> 5] |= 0x80 << (l % 32);\r\n\t    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\t\r\n\t    // Method shortcuts\r\n\t    var FF = md5._ff,\r\n\t        GG = md5._gg,\r\n\t        HH = md5._hh,\r\n\t        II = md5._ii;\r\n\t\r\n\t    for (var i = 0; i < m.length; i += 16) {\r\n\t\r\n\t      var aa = a,\r\n\t          bb = b,\r\n\t          cc = c,\r\n\t          dd = d;\r\n\t\r\n\t      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n\t      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n\t      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n\t      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n\t      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n\t      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n\t      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n\t      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n\t      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n\t      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n\t      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n\t      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n\t      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n\t      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n\t      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n\t      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\t\r\n\t      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n\t      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n\t      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n\t      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n\t      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n\t      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n\t      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n\t      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n\t      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n\t      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n\t      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n\t      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n\t      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n\t      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n\t      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n\t      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\t\r\n\t      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n\t      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n\t      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n\t      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n\t      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n\t      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n\t      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n\t      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n\t      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n\t      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n\t      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n\t      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n\t      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n\t      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n\t      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n\t      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\t\r\n\t      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n\t      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n\t      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n\t      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n\t      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n\t      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n\t      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n\t      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n\t      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n\t      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n\t      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n\t      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n\t      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n\t      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n\t      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n\t      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\t\r\n\t      a = (a + aa) >>> 0;\r\n\t      b = (b + bb) >>> 0;\r\n\t      c = (c + cc) >>> 0;\r\n\t      d = (d + dd) >>> 0;\r\n\t    }\r\n\t\r\n\t    return crypt.endian([a, b, c, d]);\r\n\t  };\r\n\t\r\n\t  // Auxiliary functions\r\n\t  md5._ff  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t  md5._gg  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t  md5._hh  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t  md5._ii  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t\r\n\t  // Package private blocksize\r\n\t  md5._blocksize = 16;\r\n\t  md5._digestsize = 16;\r\n\t\r\n\t  module.exports = function (message, options) {\r\n\t    if(typeof message == 'undefined')\r\n\t      return;\r\n\t\r\n\t    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n\t    return options && options.asBytes ? digestbytes :\r\n\t        options && options.asString ? bin.bytesToString(digestbytes) :\r\n\t        crypt.bytesToHex(digestbytes);\r\n\t  };\r\n\t\r\n\t})();\r\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** peer_custom_mesg.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 84cdc3fc5bf4948a82f1\n **/","var PeerCustomMesg = require('./modules/PeerCustomMesg');\n\nif(typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n  module.exports = PeerCustomMesg;\n} else {\n  window.PeerCustomMesg = PeerCustomMesg;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/index.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/events/events.js\n ** module id = 1\n ** module chunks = 0\n **/","import md5 from 'md5'\n\nvar util = {\n  // it will be copied to request and response object library\n  make_transaction_id: () => {\n    return md5(util.make_utc_timestamp());\n  },\n\n  // return milisec order timestamp in UTC\n  make_utc_timestamp: () => {\n    return Date.now().toString();\n  }\n}\n\nmodule.exports = util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/util.js\n **/","var validator = {\n  is_boolean: (val) => {\n    return typeof(val) === \"boolean\";\n  },\n\n  is_falsy: (val) => {\n    if(val === 0 ) return false;\n\n    return !val;\n  },\n\n  is_transaction_id: (candidate) => {\n    if(typeof(candidate) !== \"string\") return false;\n\n    return !!candidate.match(/^[a-z0-9]{32}$/)\n  },\n\n\n\n  // check data.type is for signaling or not. In case of such a type is transmitted and\n  // it is not taken into account with invalid message (since it does not match extensive type)\n  // it show up annoying error in console. To prevent this, it is checked as signaling message\n  // or not.\n  is_signalling_type: (type) => {\n    if( typeof(type) === 'string' && type.match(/^(PING|OFFER|ANSWER|CANDIDATE)$/) ) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  is_peer_object: (obj) => {\n    return !!(obj && obj.toString && obj.toString() === \"[object Object]\")\n  },\n\n  // min and max is optional\n  is_string: (str, min, max) => {\n    if( typeof(str) !== \"string\") return false;\n\n    var _min = (typeof(min) === \"number\"), _max = (typeof(max) === \"number\");\n\n    if( ( _min || _max ) && !( _min && _max )) return false;\n\n    if( typeof(min) === \"number\" || typeof(max) === \"number\") {\n      if(min === max) return false;\n      if(max < min ) return false;\n\n      if(str.length < min || str.length > max) return false;\n    }\n\n    return true;\n  },\n\n  is_peerid: (id) => {\n    if(typeof(id) !== 'string') return false;\n    if(id.length === 0) return false;\n\n    return true;\n  },\n\n  is_object: (obj) => {\n    if(validator.is_falsy(obj)) return false;\n    return (typeof(obj) === \"object\" ? true : false);\n  },\n\n  is_peerjs_format: (obj) => {\n    if(typeof(obj.type) !== \"string\") return false;\n    if(validator.is_falsy(obj.payload))return false;\n    if(!validator.is_peerid(obj.dst)) return false;\n    if(!validator.is_peerid(obj.src)) return false;\n    if(obj.dst === obj.src) return false;\n\n    return true;\n  }\n}\n\nmodule.exports = validator\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/validator.js\n **/","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/charenc/charenc.js\n ** module id = 4\n ** module chunks = 0\n **/","import EventEmitter from 'events'\nimport validator from './validator'\nimport Request from './Request'\nimport Response from './Response'\n\n\n\nclass PeerCustomMesg extends EventEmitter {\n  constructor(peer, custom_type /* optional */) {\n    super(); // when extends is used, super() should be called\n\n    if(!validator.is_peer_object(peer)) throw \"parameter peer does not valid object\";\n    if(!!custom_type && !validator.is_string(custom_type)) throw \"parameter custom_type should be string\";\n\n    this.peer = peer; // skyway server connection instance\n    this.custom_type = custom_type ? \"X_\" + custom_type.toUpperCase() : \"X_CUSTOMMESG\";\n\n    this.objRequests = {};\n\n\n    // message handler for custom message\n    this.peer.socket.on(\"message\", (data) => {\n      // check if type field is peerjs signaling type\n      // for sinon test, this case emit 'signalling-mesg' event\n      if(validator.is_signalling_type(data.type)) {\n        this.emit(\"signalling-mesg\", data.type);\n        return;\n      }\n\n      // check if type field is correct\n      if(data.type !== this.custom_type) throw \"received type does not match with custom_type: \" + data.type;\n\n      // suppress error when type is for signaling message\n      if(!validator.is_peerjs_format(data)) throw \"data type is not valid peerjs format\";\n\n      if(\n        data.payload.name               &&\n        data.payload.name === \"request\" &&\n        data.payload.method             &&\n        data.payload.resource           &&\n        data.payload.transaction_id\n      ) {\n        // operate it as request\n        var req = data.payload;\n\n        // create Response instance and set event handler when send-ready is called (res.end())\n        //\n\n        var param = {\n          \"transaction_id\" : req.transaction_id,\n          \"dst\": data.src,\n          \"method\": req.method,\n          \"resource\": req.resource,\n          \"parameter\": req.parameter\n        }\n        var res = new Response(param)\n          .once(\"send-ready\", () => {\n            this.send(res.dst, res.data);\n          });\n\n        // inject data.transaction_id & name\n        var req_ = {\n          \"method\": req.method,\n          \"resource\": req.resource,\n          \"parameter\": req.parameter\n        }\n\n        this.emit(\"request\", req_, res);\n      } else if (\n          data.payload.name &&\n          data.payload.name === \"response\" &&\n          data.payload.status &&\n          data.payload.method &&\n          data.payload.resource &&\n          data.payload.transaction_id &&\n          data.payload.response\n      ) {\n        // operate it as response\n        var res = data.payload;\n\n        // throw if res.transaction_id does not exist in objRequests.\n        if(!this.objRequests[res.transaction_id]) throw \"transaction_id does not exist: \" + res.transaction_id;\n\n        // pickup request instance from objRequests ( do not forget to remoe from it)\n        var req = this.objRequests[res.transaction_id];\n\n        // throw if data.method does not match with requests.method.\n        if(res.method !== req.method) throw \"res.method does not match with req.method: \" + res.method;\n\n        // throw if data.resource does not match with requests.resource.\n        if(res.resource !== req.resource) throw \"res.resource does not match with req.resource: \" + res.resource;\n\n        // inject data.response.transaction_id & name\n        var res_ = {\n          \"status\": res.status,\n          \"method\": res.method,\n          \"resource\": res.resource,\n          \"parameter\": res.parameter,\n          \"response\": res.response\n        };\n\n        // emit resolve function when status === 200 with data.response, otherwise reject\n        if(res_.status === \"200\") {\n          req.resolve(res_);\n        } else {\n          req.reject(res_.status + \" : \" + res_.response );\n        }\n\n        delete this.objRequests[res.transaction_id];\n      } else {\n         this.emit(\"message\", {\"srcPeerID\": data.src, \"data\": data.payload});\n      }\n    });\n  }\n\n  // send custom message\n  send(dst, mesg) {\n    if(!validator.is_peerid(dst)) throw \"parameter dst is not valid peer id\"\n    if(validator.is_falsy(mesg)) throw \"parameter mesg is falsy\"\n\n    this.peer.socket.send({\n      \"type\": this.custom_type,\n      \"payload\": mesg,\n      \"dst\": dst\n    });\n  }\n\n  /////////////////////////////////////////////\n  // rpc methods\n\n  /**\n   * send procedure call to target custom message object.\n   *\n   * method : string of rpc method  (e.g. \"GET\", \"STOP\", etc.\n   * dest : destination peer id  (e.g. \"a23klf2\"\n   * resource : string begin with /  (e.g. /profiles\n   * parameter (optional) : request parameter (string, number, object)\n   *\n   **/\n  rpc(method, dst, resource, parameter) {\n    // validation is done inside Request constructor (when fails, it throw error)\n    var req = new Request({\n      \"method\": method,\n      \"dst\": dst,\n      \"resource\": resource,\n      \"parameter\": parameter,\n      \"resolve\": null,\n      \"reject\": null\n    });\n\n    var promise = new Promise( (resolve, reject) => {\n      // set resolve & reject in side Request object\n      req.resolve = resolve;\n      req.reject = reject;\n\n      var transaction_id = req.transaction_id;\n\n      this.objRequests[transaction_id] = req;\n      this.send(dst, req.data);\n      this.emit(\"rpc-called\", {\"method\": method, \"resource\": resource, \"dst\": dst});\n    });\n\n    return promise;\n  }\n\n  // shortcut to GET\n  get(dst, resource, parameter) {\n    return this.rpc(\"GET\", dst, resource, parameter);\n  }\n}\n\nmodule.exports = PeerCustomMesg;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/PeerCustomMesg.js\n **/","/* Request.js */\n\nvar EventEmitter = require(\"events\")\n  , util = require(\"./util\")\n\nclass Request extends EventEmitter {\n  constructor(param) {\n    super();\n\n    // if validation fails, throw error.\n    if(!this.validate_param(param)) throw \"Request: parameter for constructor is not valid\";\n\n    this.transaction_id = util.make_transaction_id();\n    this.created_at = util.make_utc_timestamp();\n    this.dst = param.dst;\n    this.method = param.method;\n    this.resource = param.resource;\n    this.parameter = param.parameter;\n    this.resolve = param.resolve;\n    this.reject = param.reject;\n    this.data = {\n      \"name\": \"request\",\n      \"method\" : param.method,\n      \"resource\" : param.resource,\n      \"parameter\" : param.parameter,\n      \"transaction_id\" : this.transaction_id\n    };\n  }\n\n  validate_param(param) {\n    if( !(!!param.method && typeof(param.method) === \"string\" ) ) return false;\n\n    param.method = param.method.toUpperCase();\n\n    if( !param.method.match(/^(GET|POST|PUT|DELETE)$/) ) return false;\n    if( !(!!param.dst && typeof(param.dst) === \"string\") ) return false;\n    if( !(!!param.resource && typeof(param.resource) === \"string\" && param.resource.match(/^\\/[0-9a-zA-Z-]+$/) ) ) return false;\n    if( !(!param.resolve || typeof(param.resolve) === \"function\") ) return false;\n    if( !(!param.reject || typeof(param.reject) === \"function\") ) return false;\n\n    return true;\n  }\n}\n\nmodule.exports = Request;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/Request.js\n **/","/* Response.js */\n\nvar EventEmitter = require(\"events\")\n  , util = require(\"./util\")\n  , validator = require(\"./validator\")\n\nclass Response extends EventEmitter {\n  constructor(param) {\n    super();\n    // if validation fails, throw error.\n    if(!this._validate_param(param)) throw \"Response: parameter for constructor is not valid\";\n\n    this.transaction_id = param.transaction_id;\n    this.created_at = util.make_utc_timestamp();\n    this.dst = param.dst;\n    this.method = param.method;\n    this.resource = param.resource;\n    this.parameter = param.parameter;\n    this.data = {\n      \"status\": \"200\",\n      \"name\": \"response\",\n      \"method\" : param.method,\n      \"resource\" : param.resource,\n      \"transaction_id\" : param.transaction_id,\n      \"response\": \"\"\n    };\n  }\n\n  status(status_code) {\n    if(typeof(status_code) !== \"number\") throw \"status code should be number\";\n    if( status_code < 100 || status_code > 999 ) throw \"status code should be between 100 - 999\";\n    this.data.status = status_code.toString();\n  }\n\n  write(data) {\n    if(data === null || data === undefined) throw \"data should be specified\";\n    this.data.response = data;\n  }\n\n  end() {\n    this.emit(\"send-ready\");\n  }\n\n  // for internal\n\n  _validate_param(param) {\n    if( !(param.transaction_id && validator.is_transaction_id(param.transaction_id)) ) return false;\n    if( !(!!param.method && typeof(param.method) === \"string\" ) ) return false;\n    if( !param.method.match(/^(GET|POST|PUT|DELETE)$/) ) return false;\n\n    if( !(!!param.dst && typeof(param.dst) === \"string\") ) return false;\n    if( !(!!param.resource && typeof(param.resource) === \"string\" && param.resource.match(/^\\/[0-9a-zA-Z-]+$/) ) ) return false;\n\n    return true;\n  }\n\n}\n\nmodule.exports = Response;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/modules/Response.js\n **/","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypt/crypt.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * Determine if an object is Buffer\n *\n * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * License:  MIT\n *\n * `npm install is-buffer`\n */\n\nmodule.exports = function (obj) {\n  return !!(obj != null &&\n    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)\n      (obj.constructor &&\n      typeof obj.constructor.isBuffer === 'function' &&\n      obj.constructor.isBuffer(obj))\n    ))\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/is-buffer/index.js\n ** module id = 9\n ** module chunks = 0\n **/","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if(typeof message == 'undefined')\r\n      return;\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/md5/md5.js\n ** module id = 10\n ** module chunks = 0\n **/"],"sourceRoot":""}